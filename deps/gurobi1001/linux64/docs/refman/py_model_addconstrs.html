<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2021.2 (Released July 1, 2021) -->
<HTML lang="en">
<HEAD>
<TITLE>Model.addConstrs()</TITLE>
<META NAME="description" CONTENT="Model.addConstrs()">
<META NAME="keywords" CONTENT="refman">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2021.2">

<LINK REL="STYLESHEET" HREF="refman.css">

<LINK REL="next" HREF="py_model_agc_xxx.html">
<LINK REL="previous" HREF="py_model_addconstr.html">
<LINK REL="next" HREF="py_model_agc_xxx.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="py_model_agc_xxx.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="py_model.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="py_model_addconstr.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A
 HREF="py_model_agc_xxx.html">Model.addGenConstrXxx()</A>
<B> Up:</B> <A
 HREF="py_model.html">Model</A>
<B> Previous:</B> <A
 HREF="py_model_addconstr.html">Model.addConstr()</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A ID="SECTION000112300000000000000"></A>
<A ID="pythonmethod:Model.addConstrs"></A>
<BR>
Model.addConstrs()
</H3><SPAN CLASS="FOOTNOTESIZE">
<SPAN CLASS="LARGE">
<FONT COLOR="#801a1a"> <SPAN  CLASS="textbf">addConstrs</SPAN></FONT></SPAN> ( generator, name="" )

</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">Add multiple constraints to a model using a Python generator
expression.  Returns a Gurobi
<A HREF="py_tupledict.html#pythonclass:tupledict">tupledict</A> that contains the
newly created constraints, indexed by the values generated by the
generator expression.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">The first argument to <code>addConstrs</code> is a Python generator
expression, a special feature of the Python language that allows you
to iterate over a Python expression.  In this case, the Python
expression will be a Gurobi constraint and the generator expression
provides values to plug into that constraint.  A new Gurobi constraint
is added to the model for each iteration of the generator expression.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">To give an example, if <code>x</code> is a Gurobi variable, then
</SPAN><PRE>
  m.addConstr(x &lt;= 1, name='c0')
</PRE><SPAN CLASS="FOOTNOTESIZE">
would add a single linear constraint involving this variable.
In contrast, if <code>x</code> is a list of Gurobi variables, then
</SPAN><PRE>
  m.addConstrs((x[i] &lt;= 1 for i in range(4)), name='c')
</PRE><SPAN CLASS="FOOTNOTESIZE">
would add four constraints to the model.  The entire first argument is
a generator expression, where the indexing is controlled by the
statement <code>for i in range(4)</code>, The first constraint that results
from this expression would be named <code>c[0]</code>, and would involve
variable <code>x[0]</code>.  The second would be named <code>c[1]</code>, and
would involve variable <code>x[1]</code>.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">Generator expressions can be much more complex than this.  They can
involve multiple variables and conditional tests.  For example, you
could do:
</SPAN><PRE>
  m.addConstrs((x[i,j] == 0 for i in range(4)
                            for j in range(4)
                            if i != j), name='c')
</PRE><SPAN CLASS="FOOTNOTESIZE">
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">One restriction that <code>addConstrs</code> places on the generator
expression is that each variable must always take a scalar value
(<code>int</code>, <code>float</code>, <code>string</code>, ...).  Thus,
<code>for i in [1, 2.0, 'a', 'bc']</code> is fine, but
<code>for i in [(1, 2), [1, 2, 3]]</code> isn't.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">This method can be used to add linear constraints, quadratic
constraints, or general constraints to the model.  Refer to the
<A HREF="py_tempconstr.html#pythonclass:TempConstr">TempConstr</A> documentation
for more information on all of the different constraint types that can
be added.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">Note that if you supply a name argument, the generator expression must
be enclosed in parenthesis.  This requirement comes from the Python
language interpreter.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"><SPAN CLASS="LARGE"><SPAN  CLASS="textbf">Arguments:</SPAN></SPAN>
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"> <SPAN  CLASS="textbf">generator</SPAN>: A generator expression, where each iteration produces
a constraint.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"> <SPAN  CLASS="textbf">name</SPAN>: Name pattern for new constraints.
The given name will be subscripted by the index of the generator
expression, so if the index is an integer, <SPAN  CLASS="texttt">c</SPAN> would become
<SPAN  CLASS="texttt">c[0]</SPAN>, <SPAN  CLASS="texttt">c[1]</SPAN>, etc.
Note that the generated names will be stored as ASCII strings, so you
should avoid using names that contain non-ASCII characters. In
addition, names that contain spaces are strongly discouraged, because
they can't be written to LP format files.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">
<SPAN CLASS="LARGE"><SPAN  CLASS="textbf">Return value:</SPAN></SPAN>
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE">A dictionary of <A HREF="py_constr.html#pythonclass:Constr">Constr</A>
objects, indexed by the values specified by the generator expression.
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"><SPAN CLASS="LARGE"><B>Example usage:</B></SPAN></SPAN><PRE>
  model.addConstrs(x.sum(i, '*') &lt;= capacity[i] for i in range(5))
  model.addConstrs(x[i] + x[j] &lt;= 1 for i in range(5) for j in range(5))
  model.addConstrs(x[i]*x[i] + y[i]*y[i] &lt;= 1 for i in range(5))
  model.addConstrs(x.sum(i, '*') == [0, 2] for i in [1, 2, 4])
  model.addConstrs(z[i] == max_(x[i], y[i]) for i in range(5))
  model.addConstrs((x[i] == 1) &gt;&gt; (y[i] + z[i] &lt;= 5) for i in range(5))
</PRE><SPAN CLASS="FOOTNOTESIZE">
</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"></SPAN><DL>
<DT><STRONG><SPAN CLASS="LARGE"></SPAN><SPAN CLASS="LARGE"><SPAN  CLASS="textbf">Warning</SPAN></SPAN></STRONG></DT>
<DD>A constraint can only have
a single comparison operator.  While <TT>1 &lt;= x + y &lt;= 2</TT>
may look like a valid constraint, <SPAN  CLASS="texttt">addConstr</SPAN> won't accept it.
</DD>
</DL><SPAN CLASS="FOOTNOTESIZE">

</SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"></SPAN>
<P>
<SPAN CLASS="FOOTNOTESIZE"></SPAN>
<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="py_model_agc_xxx.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="py_model.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="py_model_addconstr.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A
 HREF="py_model_agc_xxx.html">Model.addGenConstrXxx()</A>
<B> Up:</B> <A
 HREF="py_model.html">Model</A>
<B> Previous:</B> <A
 HREF="py_model_addconstr.html">Model.addConstr()</A></DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
